define("jQuery.plugin", ["jquery"], function () {}), define("jquery.base64", ["jquery"], function (t) {
    t.base64 = function (t) {
        function e(t, e) {
            var i = r.indexOf(t.charAt(e));
            if (-1 === i) throw "Cannot decode base64";
            return i
        }

        function i(t) {
            var i, s, n = 0,
                r = t.length,
                a = [];
            if (t = String(t), 0 === r) return t;
            if (r % 4 !== 0) throw "Cannot decode base64";
            for (t.charAt(r - 1) === o && (n = 1, t.charAt(r - 2) === o && (n = 2), r -= 4), i = 0; r > i; i += 4) s = e(t, i) << 18 | e(t, i + 1) << 12 | e(t, i + 2) << 6 | e(t, i + 3), a.push(String.fromCharCode(s >> 16, s >> 8 & 255, 255 & s));
            switch (n) {
                case 1:
                    s = e(t, i) << 18 | e(t, i + 1) << 12 | e(t, i + 2) << 6, a.push(String.fromCharCode(s >> 16, s >> 8 & 255));
                    break;
                case 2:
                    s = e(t, i) << 18 | e(t, i + 1) << 12, a.push(String.fromCharCode(s >> 16))
            }
            return a.join("")
        }

        function s(t, e) {
            var i = t.charCodeAt(e);
            if (i > 255) throw "INVALID_CHARACTER_ERR: DOM Exception 5";
            return i
        }

        function n(t) {
            if (1 !== arguments.length) throw "SyntaxError: exactly one argument required";
            t = String(t);
            var e, i, n = [],
                a = t.length - t.length % 3;
            if (0 === t.length) return t;
            for (e = 0; a > e; e += 3) i = s(t, e) << 16 | s(t, e + 1) << 8 | s(t, e + 2), n.push(r.charAt(i >> 18)), n.push(r.charAt(i >> 12 & 63)), n.push(r.charAt(i >> 6 & 63)), n.push(r.charAt(63 & i));
            switch (t.length - a) {
                case 1:
                    i = s(t, e) << 16, n.push(r.charAt(i >> 18) + r.charAt(i >> 12 & 63) + o + o);
                    break;
                case 2:
                    i = s(t, e) << 16 | s(t, e + 1) << 8, n.push(r.charAt(i >> 18) + r.charAt(i >> 12 & 63) + r.charAt(i >> 6 & 63) + o)
            }
            return n.join("")
        }
        var o = "=",
            r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
            a = "1.0";
        return {
            decode: i,
            encode: n,
            VERSION: a
        }
    }(t)
}), define("plugins", ["require", "jquery", "jQuery.plugin", "jquery.mousewheel", "jquery.base64", "jquery.jscrollpane", "jquery.ui"], function (t) {
    var e = t("jquery");
    return t("jQuery.plugin"), t("jquery.mousewheel"), t("jquery.base64"), t("jquery.jscrollpane"), t("jquery.ui"), e
}), define("/js/global.js", function () {}), define("PoE/Loader", ["require", "nprogress"], function (t) {
    var e = t("nprogress");
    return {
        start: function () {
            e.start()
        },
        done: function () {
            e.done()
        },
        abort: function () {
            e.done()
        },
        follow: function (t) {
            var e = this;
            this.start(), t.then(function () {
                e.done()
            }, function () {
                e.abort()
            })
        }
    }
}), define("backbone-raw", ["Underscore", "jquery"], function (t) {
    return function () {
        return t.Backbone
    }
}(this)), define("backbone-relational", ["backbone-raw"], function () {}), define("backbone-paginator", ["backbone-raw"], function () {}), define("Backbone", ["backbone-raw", "backbone-relational", "backbone-paginator"], function (t) {
    return t
}), define("PoE/Item/DisplayProperty/ValueStyle", [], function () {
    return {
        Default: 0,
        Augmented: 1,
        Unmet: 2,
        PhysicalDamage: 3,
        FireDamage: 4,
        ColdDamage: 5,
        LightningDamage: 6,
        ChaosDamage: 7,
        MagicItem: 8,
        RareItem: 9,
        UniqueItem: 10
    }
}), define("PoE/Item/DisplayProperty/DisplayMode", [], function () {
    return {
        NameValue: 0,
        ValueName: 1,
        Progress: 2,
        Inject: 3
    }
}), define("PoE/Item/FrameType", [], function () {
    return {
        Normal: 0,
        Magic: 1,
        Rare: 2,
        Unique: 3,
        Gem: 4,
        Currency: 5,
        Quest: 7,
        DivinationCardFrame: 6
    }
}), define("PoE/Item/Popup/Constants", [], function () {
    return {
        MinWidth: 262.88032454361,
        Padding: 6.0851926977688,
        MaxWidth: 547.66734279919,
        MaxDescriptionWidth: 365.11156186613
    }
}), define("PoE/Deployment/Config", [], function () {
    return {
        httpCDNUrl: "http://webcdn.pathofexile.com/",
        httpsCDNUrl: "https://p7p4m6s5.ssl.hwcdn.net/"
    }
}), define("PoE/Helpers", ["PoE/Deployment/Config"], function (t) {
    return {
        imageUrl: function (t) {
            return this.distUrl("image/" + t)
        },
        distUrl: function (e) {
            return "https:" == window.location.protocol ? t.httpsCDNUrl + e : t.httpCDNUrl + e
        },
        translate: function (t) {
            return "undefined" != typeof __ && "undefined" != typeof __[t] ? __[t] : t
        },
        getUrlParameter: function (t) {
            for (var e = window.location.search.substring(1), i = e.split("&"), s = 0; s < i.length; s++) {
                var n = i[s].split("=");
                if (n[0] == t) return n[1]
            }
        }
    }
}), define("PoE/Item/Markup", ["Handlebars", "jquery"], function (t, e) {
    var i = {
        PoEMarkup: function (t, i) {
            i || (i = .5);
            var s = function (t) {
                var i = e(e(t).parent()).css("font-size");
                return i = i.substr(0, i.length - 2), Math.round(i)
            };
            t.find(".PoEMarkup").each(function () {
                var t = this,
                    n = e(t).data("markup"),
                    o = !1;
                if (n.indexOf("size") >= 0) {
                    var r = n.substr(n.indexOf(":") + 1, n.length);
                    r.indexOf("+") >= 0 ? r = s(t) + r.substr(1, r.length) : r.indexOf("-") >= 0 && (r = s(t) - r.substr(1, r.length)), r *= i, o = {
                        "font-size": r + "px"
                    }
                } else if (n.indexOf("bigger") >= 0) {
                    var r = s(t) + 3;
                    o = {
                        "font-size": r + "px"
                    }
                } else if (n.indexOf("smaller") >= 0) {
                    var r = s(t) - 3;
                    o = {
                        "font-size": r + "px"
                    }
                }
                o && e(t).css(o)
            })
        },
        splitTags: function (t) {
            for (var e = {
                    items: [],
                    lastIndex: 0
                }; t.indexOf("<") >= 0 || t.indexOf(">") >= 0;) {
                var i = 1,
                    s = {
                        tag: "",
                        content: "",
                        post: ""
                    };
                "<" == t.charAt(t.indexOf("<") + 1) && (i = 2), s.tag = t.substr(t.indexOf("<") + i, t.indexOf(">") - i), e.lastIndex += t.indexOf(">") + i, t = t.substr(t.indexOf(">") + i), 0 == t.indexOf("{") && t.indexOf("}") > 0 && (t.indexOf("}") < t.indexOf("<") || -1 == t.indexOf("<")) && (e.lastIndex += t.indexOf("}") + 1, s.content = t.substr(1, t.indexOf("}") - 1), t = t.substr(t.indexOf("}") + 1), t.indexOf("<") >= 0 && (e.lastIndex += t.indexOf("<"), s.post = t.substr(0, t.indexOf("<") - 1), t = t.substr(t.indexOf("<")))), e.items.push(s)
            }
            return e
        },
        convertTags: function (t, i) {
            if (console.warn("deprecated: convertTags"), t && "string" == typeof t) {
                var s = "",
                    n = "",
                    o = i && i.tags ? i.tags : !1;
                return o && !e.isEmptyObject(o) && (n = o.join(", ")), s += t.replace(/{/g, '<span class="PoEMarkup" data-markup="' + n + '">').replace(/}/g, "</span>")
            }
            return t
        },
        markupToObj: function (t, e) {
            var i = {
                pre: "",
                content: "",
                post: "",
                tags: {}
            };
            if (t.indexOf("<") >= 0) {
                i.pre += t.substr(0, t.indexOf("<")), t = t.substr(t.indexOf("<"));
                var s = 0;
                t.lastIndexOf("}") > 0 && (s = t.lastIndexOf("}")), t.lastIndexOf(">") > 0 && t.lastIndexOf(">") > s && (s = t.lastIndexOf(">")), s > 0 && (i.post = t.substr(s + 1), t = t.substr(0, s + 1)), t.indexOf("{") >= 0 ? (i.tags = this.splitTags(t), t = t.substr(i.tags.lastIndex), i.content = this.markupToObj(t, i), t = "") : (i.tags = this.splitTags(t), i.content = t.substr(i.tags.lastIndex), t = "")
            } else 0 == t.indexOf("{") ? (i.pre += this.convertTags(t, e), t = t.substr(t.indexOf("}") + 1)) : t.indexOf("{") > 0 && (i.pre += t.substr(0, t.indexOf("{")), t = this.convertTags(t, e)), i.content = t;
            return (i.pre.indexOf("{") >= 0 || i.pre.indexOf("}") >= 0) && (i.pre = this.convertTags(i.pre, e)), (i.post.indexOf("{") >= 0 || i.post.indexOf("}") >= 0) && (i.post = this.convertTags(i.post, e)), i
        },
        markupObjToHTML: function (e) {
            "object" == typeof e.content && (e.content = this.markupObjToHTML(e.content));
            var i = e.pre;
            if (e.tags && e.tags.items && e.tags.items.length > 0) {
                var s = [],
                    n = [],
                    o = [];
                for (var r in e.tags.items) {
                    var a = e.tags.items[r],
                        l = a.tag;
                    0 == l.indexOf("set:") ? s.push(l.substr(l.indexOf("set:") + 4)) : 0 === l.indexOf("if:") || 0 === l.indexOf("elif:") || 0 === l.indexOf("else:") ? n.push(a) : o.push(a)
                }
                if (n.length > 0) {
                    var h = !1,
                        c = !1;
                    for (var r in n) {
                        var a = n[r],
                            l = a.tag,
                            u = l.substr(0, l.indexOf(":")),
                            d = l.substr(l.indexOf(":") + 1);
                        for (var p in s)
                            if (n.hasOwnProperty(r) && s.hasOwnProperty(p)) {
                                var f = s[p];
                                "if" == u && f == d ? h = a : ("elif" != u || f != d || h) && ("else" != u || h) ? "MS" == d && 0 == c.length && (c = a) : h = a
                            }
                    }
                    i += h ? h.content + h.post : c ? c.content + c.post : n[n.length - 1].content + n[n.length - 1].post
                }
                for (var r in o) o.hasOwnProperty(r) && (i += '<span class="PoEMarkup ' + o[r].tag.replace(":", "_") + '" data-markup="' + o[r].tag + '">' + o[r].content + "</span>")
            } else i += e.content;
            return i += e.post, i.length > 0 && (i = new t.SafeString(i.replace(/\r/g, "<br />"))), i
        },
        recMarkup: function (t) {
            if (t && t.flavourText && (t.flavourText = t.flavourText.join("\n")), t && t.toHTML) return t;
            if ("string" == typeof t) {
                var e = this.markupToObj(t);
                return this.markupObjToHTML(e)
            }
            if ("object" == typeof t) {
                for (var i in t) t.hasOwnProperty(i) && "note" != i && (t[i] = this.recMarkup(t[i]));
                return t
            }
            return t
        }
    };
    return i
}), define("PoE/Environment", [], function () {
    var t = "undefined" != typeof process && process.versions && process.versions.node,
        e = null,
        i = null;
    return {
        isNode: function () {
            return t
        },
        isBrowser: function () {
            return !t
        },
        getAppRoot: function () {
            return e
        },
        getJsDir: function () {
            return i
        },
        config: function (t) {
            t && (t.appRoot && (e = t.appRoot), t.jsDir && (i = t.jsDir))
        }
    }
}), define("PoE/Handlebars/TemplateCollection", ["jquery", "Handlebars", "PoE/Environment"], function (t, e, i) {
    var s = {};
    return {
        load: function (n, o) {
            return n = n.replace(/^\/*/, ""), t.Deferred(function (t) {
                return void 0 !== s[n] ? void t.resolve(s[n]) : void(i.isNode() ? require(["fs", "path"], function (o, r) {
                    var a = i.getAppRoot(),
                        l = i.getJsDir();
                    if (null === a) throw "appRoot is not configured";
                    if (null === l) throw "jsDir is not configured";
                    var h = r.resolve(r.join(a, l)),
                        c = r.resolve(r.join(h, n));
                    return 0 !== c.indexOf(h) ? (console.error("File: " + c + " not within " + h), void t.reject()) : void o.readFile(c, "utf8", function (i, n) {
                        return i ? (console.error("Failed to open file: %s", i), void t.reject()) : (s[c] = e.compile(n), void t.resolve(s[c]))
                    })
                }) : require(["text!" + n], function (i) {
                    s[n] = e.compile(i), t.resolve(s[n])
                }))
            }).promise()
        }
    }
}), define("text", ["module"], function (t) {
    var e, i, s = ["Msxml2.XMLHTTP", "Microsoft.XMLHTTP", "Msxml2.XMLHTTP.4.0"],
        n = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,
        o = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,
        r = "undefined" != typeof location && location.href,
        a = r && location.protocol && location.protocol.replace(/\:/, ""),
        l = r && location.hostname,
        h = r && (location.port || void 0),
        c = [],
        u = t.config && t.config() || {};
    return e = {
        version: "2.0.3",
        strip: function (t) {
            if (t) {
                t = t.replace(n, "");
                var e = t.match(o);
                e && (t = e[1])
            } else t = "";
            return t
        },
        jsEscape: function (t) {
            return t.replace(/(['\\])/g, "\\$1").replace(/[\f]/g, "\\f").replace(/[\b]/g, "\\b").replace(/[\n]/g, "\\n").replace(/[\t]/g, "\\t").replace(/[\r]/g, "\\r").replace(/[\u2028]/g, "\\u2028").replace(/[\u2029]/g, "\\u2029")
        },
        createXhr: u.createXhr || function () {
            var t, e, i;
            if ("undefined" != typeof XMLHttpRequest) return new XMLHttpRequest;
            if ("undefined" != typeof ActiveXObject)
                for (e = 0; 3 > e; e += 1) {
                    i = s[e];
                    try {
                        t = new ActiveXObject(i)
                    } catch (n) {}
                    if (t) {
                        s = [i];
                        break
                    }
                }
            return t
        },
        parseName: function (t) {
            var e = !1,
                i = t.indexOf("."),
                s = t.substring(0, i),
                n = t.substring(i + 1, t.length);
            return i = n.indexOf("!"), -1 !== i && (e = n.substring(i + 1, n.length), e = "strip" === e, n = n.substring(0, i)), {
                moduleName: s,
                ext: n,
                strip: e
            }
        },
        xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/,
        useXhr: function (t, i, s, n) {
            var o, r, a, l = e.xdRegExp.exec(t);
            return l ? (o = l[2], r = l[3], r = r.split(":"), a = r[1], r = r[0], !(o && o !== i || r && r.toLowerCase() !== s.toLowerCase() || (a || r) && a !== n)) : !0
        },
        finishLoad: function (t, i, s, n) {
            s = i ? e.strip(s) : s, u.isBuild && (c[t] = s), n(s)
        },
        load: function (t, i, s, n) {
            if (n.isBuild && !n.inlineText) return void s();
            u.isBuild = n.isBuild;
            var o = e.parseName(t),
                c = o.moduleName + "." + o.ext,
                d = i.toUrl(c),
                p = u.useXhr || e.useXhr;
            !r || p(d, a, l, h) ? e.get(d, function (i) {
                e.finishLoad(t, o.strip, i, s)
            }, function (t) {
                s.error && s.error(t)
            }) : i([c], function (t) {
                e.finishLoad(o.moduleName + "." + o.ext, o.strip, t, s)
            })
        },
        write: function (t, i, s, n) {
            if (c.hasOwnProperty(i)) {
                var o = e.jsEscape(c[i]);
                s.asModule(t + "!" + i, "define(function () { return '" + o + "';});\n")
            }
        },
        writeFile: function (t, i, s, n, o) {
            var r = e.parseName(i),
                a = r.moduleName + "." + r.ext,
                l = s.toUrl(r.moduleName + "." + r.ext) + ".js";
            e.load(a, s, function (i) {
                var s = function (t) {
                    return n(l, t)
                };
                s.asModule = function (t, e) {
                    return n.asModule(t, l, e)
                }, e.write(t, a, s, o)
            }, o)
        }
    }, "node" === u.env || !u.env && "undefined" != typeof process && process.versions && process.versions.node ? (i = require.nodeRequire("fs"), e.get = function (t, e) {
        var s = i.readFileSync(t, "utf8");
        0 === s.indexOf("\ufeff") && (s = s.substring(1)), e(s)
    }) : "xhr" === u.env || !u.env && e.createXhr() ? e.get = function (t, i, s) {
        var n = e.createXhr();
        n.open("GET", t, !0), u.onXhr && u.onXhr(n, t), n.onreadystatechange = function (e) {
            var o, r;
            4 === n.readyState && (o = n.status, o > 399 && 600 > o ? (r = new Error(t + " HTTP status: " + o), r.xhr = n, s(r)) : i(n.responseText))
        }, n.send(null)
    } : ("rhino" === u.env || !u.env && "undefined" != typeof Packages && "undefined" != typeof java) && (e.get = function (t, e) {
        var i, s, n = "utf-8",
            o = new java.io.File(t),
            r = java.lang.System.getProperty("line.separator"),
            a = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o), n)),
            l = "";
        try {
            for (i = new java.lang.StringBuffer, s = a.readLine(), s && s.length() && 65279 === s.charAt(0) && (s = s.substring(1)), i.append(s); null !== (s = a.readLine());) i.append(r), i.append(s);
            l = String(i.toString())
        } finally {
            a.close()
        }
        e(l)
    }), e
}), define("text!PoE/Item/DivinationCard.hbt", [], function () {
    return '<div class="cardFace">\r\n    <img src="{{cardFace}}" />\r\n</div>\r\n<div class="itemBoxContent">\r\n    <div class="itemHeader {{#if headerTwoLine}}doubleLine{{/if}}">\r\n        <span class="l"></span>\r\n        {{#if typeLine}}\r\n        <div class="itemName typeLine">\r\n            <span class="lc">{{typeLine}}</span>\r\n        </div>\r\n        {{/if}}\r\n        <span class="r"></span>\r\n    </div>\r\n    {{#if stackSize}}\r\n    <div class="stackSize">{{stackSize}}</div>\r\n    {{/if}}\r\n    {{#if explicitMods}}\r\n    <div class="explicitModsWrapper">\r\n        <div class="explicitModsContainer">\r\n            {{#each explicitMods}}<div class="explicitMod"><span class="lc">{{{this}}}</span></div>{{/each}}\r\n        </div>\r\n    </div>\r\n    {{/if}}\r\n    {{#if flavourText}}\r\n    <div class="flavourTextWrapper">\r\n        <div class="flavourTextContainer">\r\n            <div class="flavourText"><span class="lc">{{flavourText}}</span></div>\r\n        </div>\r\n    </div>\r\n    {{/if}}\r\n</div>\r\n'
}), define("PoE/Item/DivinationCard", ["Handlebars", "Backbone", "jquery", "./DisplayProperty/ValueStyle", "./DisplayProperty/DisplayMode", "./FrameType", "./Popup/Constants", "PoE/Helpers", "PoE/Handlebars/TemplateCollection", "text!PoE/Item/DivinationCard.hbt"], function (t, e, i, s, n, o, r, a, l) {
    var h = e.View.extend({
        initialize: function (t) {
            this.context = t, this.prepare()
        },
        prepare: function () {
            var t = this.context;
            t.properties && t.properties[0].name.string === a.translate("Stack Size") ? t.stackSize = t.properties[0].values[0][0] : t.stackSize = "1/1", t.artFilename && (t.cardFace = "/image/gen/divination_cards/" + t.artFilename + (t.panelLayout ? "_panel.png" : ".png"))
        },
        render: function () {
            var t = new i.Deferred,
                e = this;
            return l.load("PoE/Item/DivinationCard.hbt").done(function (i) {
                t.resolve(i(e.context))
            }), t.promise()
        }
    });
    return h
}), define("PoE/Item/Popup", ["Handlebars", "Backbone", "jquery", "./DisplayProperty/ValueStyle", "./DisplayProperty/DisplayMode", "./FrameType", "./Popup/Constants", "PoE/Helpers", "./Markup", "./DivinationCard"], function (t, e, i, s, n, o, r, a, l, h) {
    t.registerHelper("itemDisplayProperty", function (e, i) {
        var o = "",
            r = e.name,
            a = function (e) {
                var i;
                switch (e[1]) {
                    default:
                        case s.Default:
                        i = "Default";
                    break;
                    case s.Augmented:
                            i = "Augmented";
                        break;
                    case s.Unmet:
                            i = "Unmet";
                        break;
                    case s.PhysicalDamage:
                            i = "PhysicalDamage";
                        break;
                    case s.FireDamage:
                            i = "FireDamage";
                        break;
                    case s.ColdDamage:
                            i = "ColdDamage";
                        break;
                    case s.LightningDamage:
                            i = "LightningDamage";
                        break;
                    case s.ChaosDamage:
                            i = "ChaosDamage"
                }
                return '<span class="colour' + i + '">' + t.Utils.escapeExpression(e[0]) + "</span>"
            };
        switch (r = "" == r ? "" : "<span>" + t.Utils.escapeExpression(r) + "</span>", e.displayMode == n.Progress && (o = '<span class="experienceBar"><span class="fill"><span style="width: ' + Math.round(100 * e.progress) + '%;"></span></span></span>'), e.displayMode) {
            case n.NameValue:
            case n.ValueName:
            case n.Progress:
                for (var l = "", h = 0, c = e.values.length; c > h; ++h) l += (h > 0 ? ", " : "") + a(e.values[h]);
                e.displayMode == n.Progress && (r = ""), i = "" == r || "" == l ? "" : i, o += e.displayMode == n.ValueName ? l + i + r : r + i + l;
                break;
            case n.Inject:
                for (var h = 0, c = e.values.length; c > h; ++h) r = r.replace("%" + h, a(e.values[h]));
                o += r
        }
        return new t.SafeString(o)
    });
    var c = e.View.extend({
        initialize: function () {
            this.divinationCard = this.model.get("frameType") === o.DivinationCardFrame, null === c.template && (c.template = t.compile(this.tpl)), this.divinationCard || (this.template = c.template)
        },
        render: function () {
            var e = this.model.toJSON(),
                i = !1,
                s = function (t, s) {
                    e[t] && (i && (e[s] = !0), i = !0)
                },
                n = function (i) {
                    if (e[i]) {
                        for (var s = [], n = e[i]; n.length > 0;) {
                            var o = n.shift();
                            o instanceof t.SafeString && (o = o.string);
                            var r = o.split("\n");
                            s = s.concat(r)
                        }
                        e[i] = s
                    }
                };
            e.identified || (e.unidentifiedText = a.translate("Unidentified")), e.corrupted && (e.corruptedText = a.translate("Corrupted")), e.lockedToCharacter && (e.lockedToCharacterText = a.translate("Cannot be traded or modified")), e.duplicated && (e.duplicatedText = a.translate("Mirrored")), n("enchantMods"), n("implicitMods"), n("explicitMods"), s("properties"), s("requirements", "sep1"), s("secDescrText", "sep2"), s("implicitMods", "sep3"), s("enchantMods", "sep14"), s("explicitMods", "sep4"), s("cosmeticMods", "sep5"), s("additionalProperties", "sep6"), s("nextLevelRequirements", "sep7"), s("unidentifiedText", "sep8"), s("corruptedText", "sep9"), s("duplicatedText", "sep10"), e.sep8 = (e.sep8 || e.sep9 || e.sep10) && !e.sep4, s("lockedToCharacterText", "sep11"), s("flavourText", "sep12"), s("descrText", "sep13"), s("note", "sep15"), this.$el.addClass("itemPopupContainer").addClass("newItemPopup");
            var r = this;
            e = l.recMarkup(e);
            var c = "";
            switch (this.model.get("frameType")) {
                default:
                    case o.Normal:
                    c = "normalPopup";
                break;
                case o.Magic:
                        c = "magicPopup";
                    break;
                case o.Rare:
                        c = "rarePopup";
                    break;
                case o.Unique:
                        c = "uniquePopup";
                    break;
                case o.Gem:
                        c = "gemPopup";
                    break;
                case o.Currency:
                        c = "currencyPopup";
                    break;
                case o.Quest:
                        c = "questPopup";
                    break;
                case o.DivinationCardFrame:
                        c = "divinationCard"
            }
            if (this.$el.addClass(c), e.name && e.typeLine && (e.headerTwoLine = !0), i && (e.hasContent = !0), e.requirements && e.requirements.length > 0 && (e.requirements[0].first = !0), e.nextLevelRequirements && e.nextLevelRequirements.length > 0 && (e.nextLevelRequirements[0].first = !0), this.divinationCard) {
                var u = new h(e);
                u.render().done(function (t) {
                    r.$el.empty().html(t), l.PoEMarkup(r.$el, .5)
                })
            } else this.$el.empty().html(this.template(e))
        },
        updatePopupWidth: function () {
            this.$el.css("position", "relative"), this.$el.css("top", "0px"), this.$el.css("left", "0px"), this.$el.css("width", "auto");
            var t = (this.$el.find(".itemName:first"), 0);
            this.$el.find(".lc").each(function () {
                var e = i(this),
                    s = e.outerWidth(!0) + 2;
                s > t && (t = s)
            }), this.$el.find(".descrText span, .secDescrText span").each(function () {
                var e = i(this),
                    s = e.outerWidth(!0);
                s > r.MaxDescriptionWidth && (s = r.MaxDescriptionWidth), s > t && (t = s)
            }), this.$el.width(t + this.$el.outerWidth(!0) - this.$el.outerWidth(!0))
        },
        close: function () {
            this.remove(), this.off()
        }
    });
    return c.template = null, c.prototype.tpl = '         <div class="itemBoxContent">             <div class="itemHeader {{#if headerTwoLine}}doubleLine{{/if}}">                 <span class="l"></span>                 {{#if name}}                 <div class="itemName">                     <span class="lc">{{name}}</span>                 </div>                 {{/if}}                 {{#if typeLine}}                 <div class="itemName typeLine">                     <span class="lc">{{typeLine}}</span>                 </div>                 {{/if}}                 <span class="r"></span>             </div>             {{#if hasContent}}             <div class="content">                {{#if properties}}                     {{#each properties}}                     <div class="displayProperty"><span class="lc">{{itemDisplayProperty this ": "}}</span></div>                    {{/each}}                 {{/if}}                 {{#if sep1}}<div class="separator"></div>{{/if}}                 {{#if talismanTier}}                    {{translate "Talisman Tier:"}} <span class="colourDefault">{{talismanTier}}</span>                {{/if}}                {{#if requirements}}                     <div class="requirements"><span class="lc">                    {{#each requirements}}{{#if first}}{{translate "Requires"}} {{else}}, {{/if}}{{itemDisplayProperty this " "}}{{/each}}                     </span></div>                 {{/if}}                 {{#if sep2}}<div class="separator"></div>{{/if}}                 {{#if secDescrText}}                     <div class="secDescrText"><span>{{secDescrText}}</span></div>                 {{/if}}                 {{#if sep3}}<div class="separator"></div>{{/if}}                 {{#if implicitMods}}                     {{#each implicitMods}}<div class="implicitMod"><span class="lc">{{this}}</span></div>{{/each}}                 {{/if}}                 {{#if sep14}}<div class="separator"></div>{{/if}}                {{#if enchantMods}}                     {{#each enchantMods}}<div class="enchantMod"><span class="lc">{{this}}</span></div>{{/each}}                 {{/if}}                {{#if sep4}}<div class="separator"></div>{{/if}}                 {{#if explicitMods}}                     {{#each explicitMods}}<div class="explicitMod"><span class="lc">{{{this}}}</span></div>{{/each}}                 {{/if}}                 {{#if craftedMods}}                     {{#each craftedMods}}<div class="craftedMod"><span class="lc">{{this}}</span></div>{{/each}}                 {{/if}}                 {{#if sep8}}<div class="separator"></div>{{/if}}                 {{#if unidentifiedText}}<div class="unmet"><span class="lc">{{unidentifiedText}}</span></div>{{/if}}                {{#if duplicatedText}}<div class="augmented"><span class="lc">{{duplicatedText}}</span></div>{{/if}}                {{#if corruptedText}}<div class="unmet"><span class="lc">{{corruptedText}}</span></div>{{/if}}                {{#if sep5}}<div class="separator"></div>{{/if}}                 {{#if cosmeticMods}}                     {{#each cosmeticMods}}<div class="cosmeticMod"><span class="lc">{{this}}</span></div>{{/each}}                 {{/if}}                 {{#if sep6}}<div class="separator"></div>{{/if}}                 {{#if additionalProperties}}                     {{#each additionalProperties}}                     <div class="additionalProperty"><span class="lc">{{itemDisplayProperty this ": "}}</span></div>                    {{/each}}                 {{/if}}                 {{#if sep7}}<div class="separator"></div>{{/if}}                 {{#if nextLevelRequirements}}                 <div class="nextLevelRequirements"><span class="lc">Next Level:</span><br /><span class="lc">                    {{#each nextLevelRequirements}}{{#if first}}Requires {{else}}, {{/if}}{{itemDisplayProperty this " "}}{{/each}}                 </span></div>                 {{/if}}                 {{#if sep11}}<div class="separator"></div>{{/if}}                 {{#if lockedToCharacterText}}<div class="unmet"><span class="lc">{{lockedToCharacterText}}</span></div>{{/if}}                {{#if sep12}}<div class="separator"></div>{{/if}}                 {{#if flavourText}}                     {{#each flavourText}}<div class="flavourText"><span class="lc">{{{this}}}</span></div>{{/each}}                 {{/if}}                 {{#if sep13}}<div class="separator"></div>{{/if}}                 {{#if descrText}}                 <div class="descrText"><span>{{descrText}}</span></div>                 {{/if}}                 {{#if sep15}}<div class="separator"></div>{{/if}}                {{#if note}}                    <div class="textCurrency itemNote">{{note}}</div>                {{/if}}            </div>             {{/if}}        </div>     ', c
}), define("PoE/Geom/Point", [], function () {
    var t = function (t, e) {
        this.x = void 0 === t ? 0 : t, this.y = void 0 === e ? 0 : e
    };
    return t.prototype.scale = function (t) {
        this.x *= t, this.y *= t
    }, t.prototype.inverseTranslate = function (t) {
        this.x -= t.x, this.y -= t.y
    }, t.prototype.translateX = function (t) {
        return this.x += t, this
    }, t.prototype.translateY = function (t) {
        return this.y += t, this
    }, t.prototype.distTo = function (t) {
        return Math.sqrt(Math.pow(this.x - t.x, 2) + Math.pow(this.y - t.y, 2))
    }, t.prototype.angleTo = function (t) {
        return Math.atan2(t.y - this.y, t.x - this.x)
    }, t.prototype.clone = function () {
        return new t(this.x, this.y)
    }, t.prototype.toString = function () {
        return "(" + this.x + "," + this.y + ")"
    }, t.prototype.eq = function (t) {
        return this.x === t.x && this.y === t.y
    }, t.prototype.neq = function (t) {
        return !this.eq(t)
    }, t
}), define("PoE/Geom/Offset", [], function () {
    var t = function (t, e, i, s) {
        this.top = t, this.left = s, this.bottom = i, this.right = e
    };
    return t.getBoundsOffset = function (e, i) {
        return new t(e.tl.y - i.tl.y, e.br.x - i.br.x, e.br.y - i.br.y, e.tl.x - i.tl.x)
    }, t
}), define("PoE/Layout/Popup", ["PoE/Geom/Point", "PoE/Geom/Offset"], function (t, e) {
    var i = {
        makePopup: function (t) {
            if (void 0 === i.popupContainerEl) {
                var e = $("#poe-popup-container");
                0 == e.length && (e = $('<div id="poe-popup-container" style="position: absolute; width: 800px; left: -1000px"></div>'), $("body").append(e)), i.popupContainerEl = e
            }
            i.popupContainerEl.append(t)
        }
    };
    return i
}), define("PoE/Geom/Bounds", ["./Point", "./Offset"], function (t, e) {
    var i = function (e, i) {
        this.tl = void 0 === e ? new t : e, this.br = void 0 === i ? new t : i
    };
    return i.prototype.top = function () {
        return this.tl.y
    }, i.prototype.bottom = function () {
        return this.br.y
    }, i.prototype.left = function () {
        return this.tl.x
    }, i.prototype.right = function () {
        return this.br.x
    }, i.prototype.centerAt = function (t) {
        var e = this.width() / 2,
            i = this.height() / 2;
        this.tl.x = t.x - e, this.tl.y = t.y - i, this.br.x = t.x + e, this.br.y = t.y + i
    }, i.prototype.width = function (t) {
        return void 0 !== t ? (this.br.x = this.tl.x + t, this) : this.br.x - this.tl.x
    }, i.prototype.height = function (t) {
        return void 0 !== t ? (this.br.y = this.tl.y + t, this) : this.br.y - this.tl.y
    }, i.prototype.scale = function () {
        this.tl.scale(), this.br.scale()
    }, i.prototype.contains = function (t) {
        return this.containsCoords(t.x, t.y)
    }, i.prototype.containsCoords = function (t, e) {
        return t >= this.tl.x && t <= this.br.x && e >= this.tl.y && e <= this.br.y
    }, i.prototype.containsBounds = function (t) {
        return this.contains(t.tl) && this.contains(t.br)
    }, i.prototype.translateX = function (t) {
        return this.tl.translateX(t), this.br.translateX(t), this
    }, i.prototype.translateY = function (t) {
        return this.tl.translateY(t), this.br.translateY(t), this
    }, i.prototype.grow = function (t) {
        this.tl.x -= t, this.tl.y -= t, this.br.x += t, this.br.y += t
    }, i.prototype.tr = function () {
        return new t(this.br.x, this.tl.y)
    }, i.prototype.bl = function () {
        return new t(this.tl.x, this.br.y)
    }, i.prototype.intersectionPoint = function (e, i, s) {
        var n = function (t, e) {
                var i = e.y - t.y,
                    s = t.x - e.x,
                    n = i * t.x + s * t.y;
                return {
                    A: i,
                    B: s,
                    C: n,
                    point1: t,
                    point2: e
                }
            },
            o = function (t, e) {
                return t.A * e.B - e.A * t.B
            },
            r = function (e, i) {
                var n = o(e, i);
                if (0 == n) return !1;
                var r = function (t, e) {
                        var i = Math.min(e.point1.x, e.point2.x),
                            n = Math.max(e.point1.x, e.point2.x),
                            o = Math.min(e.point1.y, e.point2.y),
                            r = Math.max(e.point1.y, e.point2.y);
                        return t.x >= i - s && t.x <= n + s && t.y >= o - s && t.y <= r + s
                    },
                    a = new t((i.B * e.C - e.B * i.C) / n, (e.A * i.C - i.A * e.C) / n);
                return r(a, e) && r(a, i) ? a : !1
            },
            a = this.tl,
            l = this.tr(),
            h = this.bl(),
            c = this.br,
            u = n(e, i),
            d = r(n(a, l), u);
        return d !== !1 ? d : (d = r(n(l, c), u), d !== !1 ? d : (d = r(n(h, c), u), d !== !1 ? d : (d = r(n(a, h), u), d !== !1 ? d : !1)))
    }, i.prototype.clone = function () {
        return new i(this.tl.clone(), this.br.clone())
    }, i.prototype.toString = function () {
        return "Bounds(" + this.tl + ", " + this.br + ")"
    }, i.prototype.positionAbove = function (t) {
        t instanceof i && this.translateY(t.tl.y - this.br.y)
    }, i.prototype.positionBelow = function (t) {
        t instanceof i && this.translateY(t.br.y - this.tl.y)
    }, i.prototype.positionLeft = function (t) {
        t instanceof i && this.translateX(t.tl.x - this.br.x)
    }, i.prototype.positionRight = function (t) {
        t instanceof i && this.translateX(t.br.x - this.tl.x)
    }, i.prototype.alignTop = function (t) {
        t instanceof i && this.translateY(t.tl.y - this.tl.y)
    }, i.prototype.positionTopLeftX = function (t) {
        var e = this.width();
        this.tl.x = t, this.width(e)
    }, i.prototype.positionTopLeftY = function (t) {
        var e = this.height();
        this.tl.y = t, this.height(e)
    }, i.prototype.positionAtXCenter = function (t) {
        t instanceof i && this.positionTopLeftX(t.tl.x + t.width() / 2 - this.width() / 2)
    }, i.prototype.positionAtYCenter = function (t) {
        t instanceof i && this.positionTopLeftY(t.tl.y + t.height() / 2 - this.height() / 2)
    }, i.prototype.positionInsideLeftEdge = function (t) {
        var i = e.getBoundsOffset(this, t);
        i.left >= 0 || this.translateX(-i.left)
    }, i.prototype.positionInsideRightEdge = function (t) {
        var i = e.getBoundsOffset(this, t);
        i.right <= 0 || this.translateX(-i.right)
    }, i.prototype.positionInsideTopEdge = function (t) {
        var i = e.getBoundsOffset(this, t);
        i.top >= 0 || this.translateY(-i.top)
    }, i.prototype.positionInsideBottomEdge = function (t) {
        var i = e.getBoundsOffset(this, t);
        i.bottom >= 0 || this.translateY(-i.bottom)
    }, i.prototype.fitsAbove = function (t, i) {
        var s = e.getBoundsOffset(t, i);
        return s.top >= this.height() && i.width() >= this.width()
    }, i.prototype.fitsRight = function (t, i) {
        var s = e.getBoundsOffset(t, i);
        return -s.right >= this.width() && i.height() >= this.height()
    }, i.prototype.fitsLeft = function (t, i) {
        var s = e.getBoundsOffset(t, i);
        return s.left >= this.width() && i.height() >= this.height()
    }, i.prototype.fitsBelow = function (t, i) {
        var s = e.getBoundsOffset(t, i);
        return -s.bottom >= this.height() && i.width() >= this.width()
    }, i.prototype.draw = function (t) {
        var e = this.clone();
        setTimeout(function () {
            var t = $("<div></div>").css("position", "absolute").width(e.width()).height(e.height()).css("top", e.top()).css("left", e.left()).css("background", "#33a").css("border", "1px solid #a33").css("opacity", ".6").css("z-index", 5e3);
            $("body").append(t), setTimeout(function () {
                t.fadeOut(3e3, function () {
                    $(this).remove()
                })
            }, 3e3)
        }, 500)
    }, i.prototype.eq = function (t) {
        return this.tl.eq(t.tl) && this.br.eq(t.br)
    }, i.prototype.neq = function (t) {
        return !this.eq(t)
    }, i
}), define("PoE/Layout", ["PoE/Geom/Point", "PoE/Geom/Bounds", "PoE/Layout/Popup"], function (t, e, i) {
    var s = {
        smartPositionNextTo: function (t, e) {
            var i = s.getViewportBounds(),
                n = t.fitsAbove(e, i);
            return !n && t.fitsRight(e, i) ? (t.positionAbove(e), t.positionRight(e), t.positionInsideTopEdge(i), void 0) : !n && t.fitsLeft(e, i) ? (t.positionAbove(e), t.positionLeft(e), t.positionInsideTopEdge(i), void 0) : !n && t.fitsBelow(e, i) ? (t.positionBelow(e), t.positionAtXCenter(e), t.positionInsideLeftEdge(i), t.positionInsideRightEdge(i), void 0) : (t.positionAbove(e), t.positionAtXCenter(e), t.positionInsideRightEdge(i), t.positionInsideLeftEdge(i), void 0)
        },
        getElementBounds: function (i) {
            var s = i.offset();
            return new e(new t(s.left, s.top), new t(s.left + i.outerWidth(!1), s.top + i.outerHeight(!1)))
        },
        getViewportBounds: function () {
            var i = $(window),
                s = i.scrollLeft(),
                n = i.scrollTop();
            return new e(new t(s, n), new t(s + i.width(), n + i.height()))
        },
        positionPopups: function (t, n, o) {
            var r = null,
                a = new e;
            o && void 0 !== o.mode && (r = o.mode);
            for (var l = s.getElementBounds(n), h = s.getElementBounds(i.popupContainerEl), c = 0, u = t.length; u > c; ++c) {
                var d = t[c],
                    p = d.el.outerWidth(!0),
                    f = d.el.outerHeight(!0);
                a.height(Math.max(f, a.height())), a.width(a.width() + p)
            }
            switch (r) {
                case "smart":
                default:
                    s.smartPositionNextTo(a, l);
                    break;
                case "below":
                    a.positionBelow(l), a.positionAtXCenter(l);
                    break;
                case "left":
                    a.positionLeft(l), a.positionAtYCenter(l);
                    break;
                case "rightTop":
                    a.positionRight(l), a.alignTop(l)
            }
            a.translateX(-h.left()), a.translateY(-h.top());
            for (var v = a.left(), c = 0, u = t.length; u > c; ++c) {
                var d = t[c];
                d.el.css("left", v).css("top", a.top()), v += d.el.outerWidth(!0)
            }
        }
    };
    return s
}), define("PoE/Layout/Popup/Popup", ["PoE/Geom/Point", "PoE/Geom/Offset", "PoE/Layout/Popup", "PoE/Layout"], function (t, e, i, s) {
    var n = function (t, e) {
        this.init = function () {
            this.el = t instanceof jQuery ? t : $(t), this.events = {
                prePosition: function () {}
            }, this.isPopup = !1, this.widthFunc = e && e.widthFunc ? e.widthFunc : null, this.visible = !1
        }, this.create = function () {
            this.isPopup || (i.makePopup(this.el), this.el.css("position", "absolute"), this.el.hide(), this.visible = !1, this.isPopup = !0)
        }, this.manualPosition = function (t) {
            this.create(), this.show(), this.events.prePosition(this);
            var e = $("#passiveSkillTree").offset(),
                i = $("#poe-popup-container").offset(),
                s = $("#poe-popup-container").width(),
                n = $("#poe-popup-container").height() + i.top,
                o = t.x,
                r = t.y,
                a = e.top + r - n - 50,
                l = e.left + o + s;
            this.el.css({
                top: a + "px",
                left: l + "px",
                position: "absolute"
            })
        }, this.smartPositionByEl = function (t) {
            this.create(), this.show(), this.events.prePosition(this), this.el.css("position", "absolute");
            s.positionPopups([this], t, {
                mode: "smart"
            })
        }, this.positionBelowEl = function (t) {
            this.create(), this.show(), this.events.prePosition(this), this.el.css("position", "absolute"), s.positionPopups([this], t, {
                mode: "below"
            })
        }, this.positionLeftEl = function (t) {
            this.create(), this.show(), this.events.prePosition(this), this.el.css("position", "absolute"), s.positionPopups([this], t, {
                mode: "left"
            })
        }, this.positionRightTopEl = function (t) {
            this.create(), this.show(), this.events.prePosition(this), this.el.css("position", "absolute"), s.positionPopups([this], t, {
                mode: "rightTop"
            })
        }, this.isVisible = function () {
            return this.visible
        }, this.show = function () {
            this.visible = !0, this.el.show()
        }, this.hide = function () {
            this.visible = !1, this.el.hide()
        }, this.init()
    };
    return n
}), define("PoE/Layout/Popup/PopupGroup", ["PoE/Layout", "PoE/Geom/Offset"], function (t) {
    return function (e) {
        this.popups = e, this.smartPositionByEl = function (i) {
            for (var s = 0, n = this.popups.length; n > s; ++s) {
                var o = this.popups[s];
                o.el.show(), o.events.prePosition(o), o.el.css("position", "absolute")
            }
            t.positionPopups(e, i, {
                mode: "smart"
            })
        }
    }
}), define("PoE/DOM/Util", ["jquery"], function (t) {
    return {
        isNextSiblingTextNode: function (e) {
            if (e instanceof t) {
                if (0 == e.length) return !1;
                e = e[0]
            }
            var i = e.nextSibling;
            return i && 3 == i.nodeType
        },
        isPrevSiblingTextNode: function (e) {
            if (e instanceof t) {
                if (0 == e.length) return !1;
                e = e[0]
            }
            var i = e.previousSibling;
            return i && 3 == i.nodeType
        },
        getSelectedText: function (e) {
            if (e instanceof t && (e = e[0]), "selectionStart" in e) {
                var i = e.selectionStart,
                    s = e.selectionEnd,
                    n = s - i;
                return e.value.substr(i, n)
            }
            if (document.selection) {
                e.focus();
                var o = document.selection.createRange();
                return null == o ? "" : o.text
            }
            return ""
        }
    }
}), define("PoE/Item/Item", ["Handlebars", "Backbone", "jquery", "./Popup", "PoE/Layout/Popup/Popup", "PoE/Layout/Popup/PopupGroup", "PoE/Layout", "PoE/DOM/Util", "./DivinationCard", "./Markup"], function (t, e, i, s, n, o, r, a, l, h) {
    var c = e.View.extend({
        initialize: function () {
            null === c.template && (c.template = t.compile(this.tpl)), this.template = c.template, this.state = {
                itemHovered: !1,
                inSocketHover: !1,
                showSocketKeyDown: !1
            }, this.options.manualPosition === !0 && (this.manualPosition = !0), void 0 === this.options.enableVerified && (this.options.enableVerified = !1), void 0 === this.options.enableLeague && (this.options.enableLeague = !1), void 0 === this.options.showSockets && (this.options.showSockets = !1), this.leaguePopup = null, this.options.showSockets && this.$el.addClass("showSockets"), this.divinationLayout = this.options.divinationLayout || !1
        },
        events: {
            click: "itemClick"
        },
        itemClick: function (t) {
            this.trigger("itemClick", this.model)
        },
        render: function () {
            var t = this.model.toJSON(),
                e = this;
            t.enableVerified = this.options.enableVerified, t.enableLeague = this.options.enableLeague, t.sockets = [];
            var r = this.model.get("sockets");
            t.numSockets = r.length;
            for (var a = 0, c = r.length - 1; c >= a; ++a) {
                var u = r[a],
                    d = {
                        index: a,
                        str: "S" == u.attr,
                        dex: "D" == u.attr,
                        "int": "I" == u.attr,
                        gen: "G" == u.attr,
                        linkNext: c > a && u.group == r[a + 1].group,
                        rightAlign: a >= 2 && 3 >= a
                    };
                t.sockets.push(d)
            }
            if (this.model.get("socketedItems").forEach(function (e) {
                    var i = e.get("socket");
                    t.sockets[i].socketed = !0, t.sockets[i].support = e.get("support"), "G" == e.get("colour") && (t.sockets[i].genGem = !0)
                }), this.$el.addClass("newItemContainer").addClass("iW" + this.model.get("w")).addClass("iH" + this.model.get("h")), this.divinationLayout) {
                this.$el.addClass("divinationCard"), this.$el.css("width", "172px"), this.$el.css("height", "261px"), t = h.recMarkup(t), t.panelLayout = !0;
                var p = new l(t);
                p.render().done(function (t) {
                    e.$el.empty().html(t), h.PoEMarkup(e.$el, .35)
                })
            } else this.$el.empty().html(this.template(t));
            var f = new s({
                model: this.model
            });
            f.render();
            var v = this.$el.find(".popupPlaceholder:first");
            v.replaceWith(f.$el), this.$socketsEl = this.$el.find(".sockets"), this.socketEls = this.$socketsEl.children(".socket"), this.socketPopups = [], this.options.enableLeague && (this.leaguePopup = new n(this.$el.find(".itemLeaguePopup:first")), this.leaguePopup.events.prePosition = function (t) {
                t.el.css("position", "relative"), t.el.css("float", "left"), t.el.width(t.el.width()), t.el.css("float", "none")
            }), this.model.get("socketedItems").forEach(function (t, o) {
                var r = new s({
                        model: t
                    }),
                    a = t.get("socket");
                r.render(), e.$el.find(".socketPopups").append(r.$el);
                var l = new n(r.$el);
                l.events.prePosition = function (t) {
                    return function () {
                        t.updatePopupWidth()
                    }
                }(r), e.socketPopups.push({
                    view: r,
                    popup: l,
                    $socketEl: i(e.socketEls.get(a))
                })
            }), this.mainPopup = {
                view: f,
                popup: new n(f.$el)
            }, this.mainPopup.popup.events.prePosition = function () {
                return function () {
                    e.mainPopup.view.updatePopupWidth()
                }
            }(), this.mainPopup.popup.create(), this.itemIconEl = this.$el.find(".icon:first"), this.$el.mouseover(function () {
                e.handleItemMouseover()
            }).mouseout(function () {
                e.handleItemMouseout()
            }), i(document).keydown(function (t) {
                return e.handleKeyDown(t)
            }).keyup(function (t) {
                return e.handleKeyUp(t)
            });
            for (var a = 0, g = e.socketPopups.length; g > a; ++a) {
                var m = e.socketPopups[a];
                m.popup.create(), m.$socketEl.mouseover(function (t) {
                    return function (s) {
                        e.state.inSocketHover = !0, i(this).addClass("socketHover"), e.hoverStart();
                        var n = new o([e.mainPopup.popup, t.popup]);
                        n.smartPositionByEl(e.$el)
                    }
                }(m)).mouseout(function (t) {
                    return function (s) {
                        e.state.inSocketHover = !1, i(this).removeClass("socketHover"), t.popup.hide(), e.hoverEnd()
                    }
                }(m))
            }
            this.$el.addClass("itemRendered"), this.trigger("render")
        },
        handleKeyDown: function (t) {
            if (18 == t.which) {
                if (this.state.showSocketKeyDown = !0, this.state.itemHovered) return;
                return this.hideSockets(!1), !1
            }
        },
        handleKeyUp: function (t) {
            if (18 == t.which) {
                if (this.state.showSocketKeyDown = !1, this.state.itemHovered) return;
                this.hideSockets(!0)
            }
        },
        handleItemMouseover: function (t) {
            this.hoverStart(), this.hideSockets(!1), this.state.inSocketHover || (this.manualPosition ? this.mainPopup.popup.manualPosition(t) : this.mainPopup.popup.smartPositionByEl(this.$el))
        },
        handleItemMouseout: function () {
            !this.state.inSocketHover && !this.state.showSocketKeyDown && this.hideSockets(!0), this.mainPopup.popup.hide(), this.hoverEnd()
        },
        hoverStart: function () {
            this.state.itemHovered = !0, this.$el.addClass("hovered"), this.options.enableLeague && this.leaguePopup.positionBelowEl(this.$el)
        },
        hoverEnd: function () {
            this.state.itemHovered = !1, this.$el.removeClass("hovered"), this.options.enableLeague && this.leaguePopup.hide()
        },
        hideSockets: function (t) {
            t ? this.$socketsEl.hide() : this.$socketsEl.show()
        },
        setPlaced: function (t, e) {
            this.$el.addClass("itemPlaced").addClass("ipW" + t).addClass("ipH" + e), this.model.get("identified") || this.$el.addClass("unidentified"), this.model.get("corrupted") && this.$el.addClass("corrupted"), this.model.get("lockedToCharacter") && this.$el.addClass("lockedToCharacter")
        },
        close: function () {
            this.remove(), this.off(), this.mainPopup.view.close();
            for (var t = 0, e = this.socketPopups.length; e > t; ++t) this.socketPopups[t].view.close()
        }
    });
    return c.template = null, c.prototype.tpl = ' 	<div class="popupPlaceholder"></div> 	<div class="socketPopups"></div> 	<div class="iconContainer"> 	 	<div class="icon"> 	 		<img src="{{icon}}" alt="" /> 			<div class="sockets numSockets{{numSockets}}"> 			{{#each sockets}} 			{{#if linkNext}}<div class="socketLink socketLink{{index}}"></div>{{/if}} 			<div class="socket{{#if rightAlign}} socketRight{{/if}}{{#if socketed}} socketed{{/if}}{{#if support}} socketSupport{{/if}}{{#if genGem}} genGem{{/if}}{{#if str}} socketStr{{/if}}{{#if dex}} socketDex{{/if}}{{#if int}} socketInt{{/if}}{{#if gen}} socketGen{{/if}}"></div> 			{{/each}} 			</div> 	 	</div> 		{{#if enableVerified}}{{#if verified}}<div class="verifiedStatus">{{translate "Verified"}}</div>{{/if}}{{/if}} 		{{#if enableLeague}}<div class="itemLeaguePopup">{{league}} {{translate "League"}}</div>{{/if}} 	</div> 	', c
}), define("PoE/Backbone/Model/Item/SocketedItem", ["Backbone"], function (t) {
    return t.RelationalModel.extend({})
}), define("PoE/Backbone/Collection/Item/SocketedItemCollection", ["Backbone", "PoE/Backbone/Model/Item/SocketedItem"], function (t, e) {
    return t.Collection.extend({
        model: e
    })
}), define("PoE/Backbone/Model/Item/Item", ["Backbone", "./SocketedItem", "PoE/Backbone/Collection/Item/SocketedItemCollection"], function (t, e, i) {
    return t.RelationalModel.extend({
        relations: [{
            type: t.HasMany,
            key: "socketedItems",
            relatedModel: e,
            collectionType: i
        }]
    })
}), define("PoE/Item/LayoutManager", ["PoE/DOM/Util"], function (t) {
    var e = function () {
        var i = function (i) {
            var s = (i.offset(), i.prev()),
                n = (i.next(), function (t) {
                    return t.hasClass("newItemContainer") || t.hasClass("itemFragment")
                }),
                o = function (t) {
                    return t.hasClass("itemRendered")
                },
                r = function (t) {
                    return t.hasClass("itemSmartLayoutStop")
                },
                a = function (t) {
                    return t.hasClass("itemSmartLayoutBreak")
                },
                l = function (t, e) {
                    t.attr("data-last-offset-top", e.top), t.attr("data-last-offset-left", e.left)
                },
                h = function () {
                    var t = $('<div class="itemSmartLayoutBreak itemSmartLayoutStop"></div>');
                    return e.debug && t.css("background", "cyan").css("height", "2px"), t
                },
                c = function () {
                    var t = $('<div class="itemSmartLayoutBreak"></div>');
                    return e.debug && t.css("background", "red").css("height", "2px"), t
                },
                u = function (t, e) {
                    return e.top > t.top || e.left < t.left
                },
                d = function (t) {
                    for (var i, s = t;;) {
                        if (e.debug && (s.css("background", "green"), setTimeout(function (t) {
                                return function () {
                                    t.css("background", "")
                                }
                            }(s), 5e3)), i = s.next(), 0 == i.length) return void s.after(h());
                        if (r(i)) return;
                        if (a(i)) {
                            var d = s.offset(),
                                p = s.data("last-offset-top"),
                                f = s.data("last-offset-left"),
                                v = i;
                            v.data("last-offset-top");
                            if (d.top == p && d.left == f) return;
                            if (d.left == f) return;
                            i = v.next();
                            var g = i.offset();
                            v.remove();
                            var m = i.offset();
                            if (g.top == m.top && g.left == m.left) {
                                l(s, d);
                                var k = c();
                                return i.before(k), void l(k, k.offset())
                            }
                            i = s
                        } else {
                            if (!n(i)) return void i.before(h());
                            if (!o(i)) return;
                            var d = s.offset(),
                                g = i.offset();
                            if (u(d, g)) {
                                l(s, d);
                                var k = c();
                                i.before(k), l(k, k.offset());
                                var y = i.offset();
                                if (y.top == g.top && y.left == g.top) return
                            }
                        }
                        s = i
                    }
                };
            return t.isPrevSiblingTextNode(i) ? (i.before(h()), void d(i)) : t.isNextSiblingTextNode(i) ? (i.after(h()), void d(i)) : 0 == s.length ? void d(i) : n(s) || a(s) ? void d(s) : (i.before(h()), void d(i))
        };
        this.smartLayout = function (t) {
            t.on("render", function () {
                i(t.$el)
            })
        }
    };
    return e.debug = !1, e
}), define("PoE/PassiveSkillTree/ObjectList", [], function () {
    return function () {
        this.init = function () {
            this.objects = [], this.priorities = [], this.priorityToObjects = {}
        }, this.add = function (t, e) {
            e = void 0 === e ? 0 : e, void 0 === this.priorityToObjects[e] && (this.priorities.push(e), this.priorityToObjects[e] = [], this.priorities.sort(function (t, e) {
                return t - e
            })), this.priorityToObjects[e].push(t)
        }, this.remove = function (t) {
            var e = !1;
            for (var i in this.priorityToObjects)
                for (var s = this.priorityToObjects[i], n = s.length - 1; n >= 0; --n) s[n] === t && (s.splice(n, 1), e = !0);
            return e
        }, this.foreachObject = function (t) {
            for (var e = 0, i = this.priorities.length; i > e; ++e)
                for (var s = this.priorityToObjects[this.priorities[e]], n = 0, o = s.length; o > n; ++n) t(s[n])
        }, this.init()
    }
}), define("PoE/PassiveSkillTree/EventContainer", [], function () {
    return function () {
        this.init = function () {
            this.events = []
        }, this.trigger = function () {
            for (var t = 0, e = this.events.length; e > t; ++t) this.events[t]()
        }, this.add = function (t) {
            if (t instanceof Array)
                for (var e = 0, i = t.length; i > e; ++e) this.add(t[e]);
            else this.events.push(t)
        }, this.remove = function (t) {
            for (var e = 0; e < this.events.length; ++e) this.events[e] === t && this.events.splice(e, 1)
        }, this.init()
    }
}), define("PoE/PassiveSkillTree/PassiveAllocation", [], function () {
    return function (t) {
        this.init = function () {
            this.skillTree = t, this.characterLevel = 100, this.extraSkillPoints = 24, this.skillPointsFromPassive = 0, this.ascendancySkillPoints = 8, this.numAllocatedAscendancySkills = 0, this.numAllocatedSkills = 0, this.allocatedSkills = {}, this.canAllocateSkills = {}
        }, this.foreachAllocatedSkill = function (t) {
            for (var e in this.allocatedSkills) t(this.allocatedSkills[e])
        }, this.isAllocated = function (t) {
            return void 0 !== this.allocatedSkills[t.skill.getHash()]
        }, this.loadHashArray = function (t) {
            this.reset();
            for (var e = 0, i = t.length; i > e; ++e) {
                var s = t[e],
                    n = this.skillTree.getNode(s);
                n.isAscendancy ? this.numAllocatedAscendancySkills++ : this.numAllocatedSkills++, this.allocatedSkills[s] = n, n && (n.active = !0, this.passiveAllocated(n.skill))
            }
            this.recalcCanAllocateSkills(), this.skillTree.events.pointsChanged.trigger()
        }, this.allocate = function (e) {
            if (t.settings.highlightShortestPaths) {
                for (var i = 0; i < t.settings.skillArray.length; i++) {
                    e = t.settings.skillArray[i];
                    var s = this.skillTree.getNode(e);
                    if (this.canAllocate(s)) {
                        if (s.isMultipleChoiceOption) {
                            var n = !1;
                            if (s.foreachInNode(function (t) {
                                    t.isMultipleChoice && (n = t)
                                }), !n) return !1;
                            n.foreachOutNode(function (t) {
                                e.isMultipleChoiceOption && o.unallocate(e.id)
                            })
                        } else s.isAscendancy ? this.numAllocatedAscendancySkills++ : this.numAllocatedSkills++;
                        s.passivePointsGranted >= 0 && (this.skillPointsFromPassive += s.passivePointsGranted), s.active = !0, this.allocatedSkills[e] = s
                    }
                }
                return this.recalcCanAllocateSkills(), this.passiveAllocated(s.skill), this.skillTree.pushHistoryState(), this.skillTree.events.pointsChanged.trigger(), !0
            }
            var s = this.skillTree.getNode(e),
                o = this;
            if (!this.canAllocate(s)) return !1;
            if (s.isMultipleChoiceOption) {
                var n = !1;
                if (s.foreachInNode(function (t) {
                        t.isMultipleChoice && (n = t)
                    }), !n) return !1;
                n.foreachOutNode(function (t) {
                    e.isMultipleChoiceOption && o.unallocate(e.id)
                })
            } else s.isAscendancy ? this.numAllocatedAscendancySkills++ : this.numAllocatedSkills++;
            return s.passivePointsGranted >= 0 && (this.skillPointsFromPassive += s.passivePointsGranted), s.active = !0, this.allocatedSkills[e] = s, this.recalcCanAllocateSkills(), this.passiveAllocated(s.skill), this.skillTree.pushHistoryState(), this.skillTree.events.pointsChanged.trigger(), !0
        }, this.unallocate = function (e) {
            if (t.settings.highlightShortestPaths) {
                for (var i = 0; i < t.settings.skillArray.length; i++) {
                    e = t.settings.skillArray[i];
                    var s = this.skillTree.getNode(e);
                    s.isClassStartNode || s.isAscendancyStartNode || (s.isMultipleChoiceOption || (s.isAscendancy ? this.numAllocatedAscendancySkills-- : this.numAllocatedSkills--), s.passivePointsGranted && (this.skillPointsFromPassive -= s.passivePointsGranted), s.active = !1, delete this.allocatedSkills[e])
                }
                return this.recalcCanAllocateSkills(), this.passiveUnallocated(s.skill), this.skillTree.pushHistoryState(), this.skillTree.events.pointsChanged.trigger(), !0
            }
            var s = this.skillTree.getNode(e);
            return this.canUnallocate(s) ? (s.isMultipleChoiceOption || (s.isAscendancy ? this.numAllocatedAscendancySkills-- : this.numAllocatedSkills--), s.passivePointsGranted && (this.skillPointsFromPassive -= s.passivePointsGranted), s.active = !1, delete this.allocatedSkills[e], this.recalcCanAllocateSkills(), this.passiveUnallocated(s.skill), this.skillTree.pushHistoryState(), this.skillTree.events.pointsChanged.trigger(), !0) : !1
        }, this.canAllocate = function (t) {
            if (this.skillTree.readonly) return !1;
            if (t.active) return !1;
            if (t === this.skillTree.startNode) return !1;
            if (void 0 !== this.allocatedSkills[t.id]) return !1;
            if (t.isAscendancyStartNode) return !1;
            for (var e in t.inNodes) {
                var i = t.inNodes[e];
                if (!i.isMultipleChoiceOption && i.isMultipleChoice && i.active) return !0
            }
            for (var e in t.outNodes) {
                var s = t.outNodes[e];
                if (s.active || s.isClassStartPosition(this.skillTree.characterClass)) return !0
            }
            if (!t.isAscendancy && 0 == this.getPassiveSkillPointsAvailable()) return !1;
            if (t.isAscendancy && 0 == this.getAscendancyPassiveSkillPointsAvailable()) return !1;
            var n = this;
            return t.findNeighbourNode(function (t) {
                return t.active || t.isClassStartPosition(n.skillTree.characterClass)
            }) === !1 ? !1 : !0
        }, this.canUnallocate = function (t) {
            return this.skillTree.readonly ? !1 : t.isClassStartNode || t.isAscendancyStartNode ? !1 : this.isAllocatedLeaf(t) ? t.passivePointsGranted && t.passivePointsGranted > 0 && this.getPassiveSkillPointsAvailable() - t.passivePointsGranted < 0 ? !1 : !0 : !1
        }, this.isAllocatedLeaf = function (t) {
            if (!t.active) return !1;
            var e = [],
                i = [];
            this.skillTree.visitNodes(this.skillTree.startNode, e, i, function (e) {
                return null === e.skill || e !== t && e.active
            });
            for (var s in this.allocatedSkills) {
                var n = this.allocatedSkills[s];
                if (!i[n.id]) {
                    if (!n.skill || n.id == t.id) continue;
                    return !1
                }
            }
            return !0
        }, this.recalcCanAllocateSkills = function () {
            this.clearCanAllocateSkills();
            var t = this;
            for (var e in this.allocatedSkills) {
                var i = this.allocatedSkills[e];
                i && i.foreachNeighbourNode(function (e) {
                    e.active || e.canAllocate || t.canAllocate(e) && (e.canAllocate = !0, t.canAllocateSkills[e.skill.getHash()] = e)
                })
            }
        }, this.clearCanAllocateSkills = function () {
            for (var t in this.canAllocateSkills) {
                var e = this.canAllocateSkills[t];
                e.canAllocate = !1
            }
        }, this.reset = function () {
            for (var t in this.allocatedSkills) {
                var e = this.allocatedSkills[t];
                e.active = !1, this.passiveUnallocated(e.skill)
            }
            this.clearCanAllocateSkills(), this.numAllocatedSkills = 0, this.numAllocatedAscendancySkills = 0, this.allocatedSkills = {}, this.canAllocateSkills = {}, this.skillTree.events.pointsChanged.trigger()
        }, this.getTotalSkillPoints = function () {
            return this.extraSkillPoints + this.characterLevel - 1 + this.skillPointsFromPassive
        }, this.getTotalAscendancySkillPoints = function () {
            return this.ascendancySkillPoints
        }, this.getPassiveSkillPointsAvailable = function () {
            return this.getTotalSkillPoints() - this.numAllocatedSkills
        }, this.getAscendancyPassiveSkillPointsAvailable = function () {
            return this.getTotalAscendancySkillPoints() - this.numAllocatedAscendancySkills
        }, this.passiveAllocated = function () {}, this.passiveUnallocated = function () {}, this.init()
    }
}), define("PoE/PassiveSkillTree/Skill", ["PoE/Helpers"], function (t) {
    var e = function (e) {
        this.init = function () {
            if (this.hash = null, this.icon = null, this.iconActiveSources = e.iconHighlighted, this.skillDescription = e.sd, this.displayName = e.dn, this.flavourText = e.flavourText, this.reminderText = e.reminderText, this.sa = e.sa, this.da = e.da, this.ia = e.ia, this.item = e.item, this.jewel = e.jewel, void 0 !== e.id && (this.hash = e.id), void 0 !== e.icon && (this.icon = e.icon), e.passivePointsGranted && e.passivePointsGranted >= 0) {
                var i = "Passive Skill Point";
                e.passivePointsGranted > 1 && (i += "s"), this.skillDescription = [t.translate("Grants") + " " + e.passivePointsGranted + " " + t.translate(i)]
            }
        }, this.init()
    };
    return e.prototype.getHash = function () {
        return this.hash
    }, e
}), define("PoE/PassiveSkillTree/JewelAllocation", ["./Skill", "PoE/Item/Item", "PoE/Backbone/Model/Item/Item", "PoE/Item/LayoutManager"], function (t, e, i, s) {
    return function (n) {
        this.init = function () {
            this.skillTree = n, this.allocatedJewels = {}, this.layoutManager = new s
        }, this.loadJewels = function (s) {
            s.accountName && s.characterName && $.ajax({
                url: "/character-window/get-passive-skills?accountName=" + s.accountName + "&character=" + s.characterName,
                dataType: "json",
                success: function (n) {
                    if (n) {
                        s.jewelSlots = n.jewel_slots;
                        for (var o in n.items) {
                            var r = n.items[o],
                                a = s.jewelSlots[r.x],
                                l = s.getNode(a.passiveSkill.hash),
                                h = new e({
                                    enableVerified: !1,
                                    enableLeague: !1,
                                    showSockets: !1,
                                    manualPosition: !0,
                                    model: new i(r)
                                });
                            h.render();
                            var c = {
                                id: a.passiveSkill.hash,
                                sd: !1,
                                dn: r.name,
                                sa: !1,
                                da: !1,
                                ia: !1,
                                icon: r.icon,
                                item: h,
                                jewel: r
                            };
                            l.skill = new t(c)
                        }
                        s.drawState.dirty = !0, s.drawState.dirtyFullRedraw = !0
                    }
                },
                fail: function (t) {
                    console.log(t)
                }
            })
        }, this.foreachAllocatedJewel = function (t) {
            for (var e in this.allocatedJewels) t(this.allocatedJewels[e])
        }, this.allocate = function (t, e, i) {
            this.skillTree.getNode(e)
        }, this.jewelAllocated = function () {}, this.jewelUnallocated = function () {}, this.init()
    }
}), define("PoE/PassiveSkillTree/Stats", [], function () {
    return function () {
        this.init = function () {
            this.attributes = [0, 0, 0]
        }, this.getAttribute = function (t) {
            return this.attributes[t]
        }, this.setAttribute = function (t, e) {
            this.attributes[t] = e, this.statsChanged()
        }, this.addAttribute = function (t, e) {
            this.attributes[t] += e, this.statsChanged()
        }, this.subAttribute = function (t, e) {
            this.attributes[t] -= e, this.statsChanged()
        }, this.statsChanged = function () {}, this.init()
    }
}), define("PoE/PassiveSkillTree/Node", ["./Skill"], function (t) {
    var e = function (e) {
        this.init = function () {
            this.group = null, this.orbit = e.o, this.orbitIndex = e.oidx, this.outNodes = {}, this.inNodes = {}, this.clickObj = null, this.keyStone = null, this.startPositionClasses = null, this.isClassStartNode = !1, this.notable = null, this.isJewel = e.isJewelSocket, this.id = e.id, this.isAscendancy = e.hasOwnProperty("ascendancyName"), this.ascendancyName = e.ascendancyName, this.isAscendancyStartNode = e.isAscendancyStart ? !0 : !1, this.canAllocateWithoutConnection = !1, this.passivePointsGranted = e.passivePointsGranted, this.isMultipleChoice = e.isMultipleChoice, this.isMultipleChoiceOption = e.isMultipleChoiceOption, this.hidden = !1, this.active = !1, this.canAllocate = !1, this.renderState = {
                hover: !1
            }, this.popup = null, this.clickable = null, this.similarNodeHighlighter = null, this.pathHighlighterGroup = null, null !== e.ks && (this.keyStone = e.ks), void 0 !== e.spc && (this.startPositionClasses = e.spc, this.startPositionClasses.length > 0 && (this.isClassStartNode = !0)), void 0 !== e.not && (this.notable = e.not), void 0 !== e.m && (this.mastery = e.m), this.skill = new t(e)
        }, this.init()
    };
    return e.prototype.isClassStartPosition = function (t) {
        if (null === this.startPositionClasses) return !1;
        for (var e = 0, i = this.startPositionClasses.length; e != i; ++e)
            if (this.startPositionClasses[e] == t) return !0;
        return !1
    }, e.prototype.addOutNode = function (t) {
        this.outNodes[t.skill.getHash()] = t, t.addInNode(this)
    }, e.prototype.addInNode = function (t) {
        this.inNodes[t.skill.getHash()] = t
    }, e.prototype.setGroup = function (t) {
        this.group = t
    }, e.prototype.foreachOutNode = function (t) {
        for (var e in this.outNodes) t.call(this, this.outNodes[e])
    }, e.prototype.foreachInNode = function (t) {
        for (var e in this.inNodes) t.call(this, this.inNodes[e])
    }, e.prototype.foreachNeighbourNode = function (t) {
        this.foreachOutNode(t), this.foreachInNode(t)
    }, e.prototype.findNeighbourNode = function (t) {
        for (var e in this.outNodes)
            if (t.call(this, this.outNodes[e])) return this.outNodes[e];
        for (var e in this.inNodes)
            if (t.call(this, this.inNodes[e])) return this.inNodes[e];
        return !1
    }, e.prototype.isKeyStone = function () {
        return this.keyStone
    }, e.prototype.isMastery = function () {
        return this.mastery
    }, e.prototype.isSocketedJewel = function () {
        return this.isJewel && this.skill && this.skill.item
    }, e
}), define("PoE/PassiveSkillTree/Group", [], function () {
    var t = function (t, e, i) {
        this.id = t, this.position = e, this.nodes = {}, this.occupiedOrbits = i, this.isAscendancy = !1, this.ascendancyName = !1, this.oldPos = !1
    };
    return t.prototype.addNode = function (t) {
        this.nodes[t.skill.getHash()] = t, t.setGroup(this)
    }, t.prototype.getId = function () {
        return this.id
    }, t.prototype.foreachNode = function (t) {
        for (var e in this.nodes) t.call(this, this.nodes[e])
    }, t.prototype.isOccupiedOrbit = function (t) {
        return void 0 !== this.occupiedOrbits[t]
    }, t.prototype.isAscendancy = function () {
        return this.isAscendancy
    }, t.prototype.getAscendancy = function () {
        return this.ascendancyName
    }, t
}), define("PoE/PassiveSkillTree/Tile", [], function () {
    return function () {
        this.canvas = null, this.dirty = !0
    }
}), define("PoE/PassiveSkillTree/Clickable", [], function () {
    var t = function (t) {
        this.bounds = t, this.mouseMoved = !1
    };
    return t.prototype.hitTest = function (t) {
        return this.bounds.contains(t.worldPosition)
    }, t.prototype.onclickTest = function (t) {
        return this.hitTest(t) ? (this.onclick(t), !0) : !1
    }, t.prototype.onmousemoveTest = function (t) {
        return this.hitTest(t) ? (this.mouseMoved = !0, void this.onmousemove(t)) : !1
    }, t.prototype.forceMouseOut = function () {
        return this.mouseMoved ? (this.mouseMoved = !1, void this.onmouseout()) : !1
    }, t.prototype.onmouseoutTest = function (t) {
        return this.mouseMoved ? this.hitTest(t) ? !1 : (this.mouseMoved = !1, void this.onmouseout()) : !1
    }, t.prototype.onclick = function (t) {}, t.prototype.onmousemove = function (t) {}, t.prototype.onmouseout = function (t) {}, t
}), define("PoE/PassiveSkillTree/BFS/PathIterator", [], function () {
    return function (t, e) {
        this.startNode = t, this.nodeRelationshipData = e, this.iterate = function (e) {
            var i = [],
                s = this.nodeRelationshipData[t.skill.getHash()].parents;
            i.push(t);
            var n = [];
            for (n.push(t), visited = {}; n.length > 0;)
                for (var o = n.pop(), r = this.nodeRelationshipData[o.skill.getHash()], s = r.parents, a = 0, l = s.length; l > a; ++a) e(o, s[a], r.depth), void 0 === visited[s[a].skill.getHash()] && (visited[s[a].skill.getHash()] = !0, n.push(s[a]), i.push(s[a]));
            return i
        }, this.getStartNodeDepth = function () {
            return this.nodeRelationshipData[this.startNode.skill.getHash()].depth
        }
    }
}), define("PoE/PassiveSkillTree/UtilityFunctions", [], function () {
    return {
        calculateLerpPosition: function (t, e, i) {
            var s = e - t,
                n = s / i;
            return n
        },
        calculateFlipPosition: function (t, e, i) {
            var s = e - t,
                n = s / i,
                o = parseInt(n) % 2,
                r = n % 1;
            return 0 == o ? r : 1 - r
        }
    }
}), define("PoE/PassiveSkillTree/RGBA", ["./UtilityFunctions"], function (t) {
    var e = function (i, s, n, o) {
        this.r = i || 0, this.g = s || 0, this.b = n || 0, this.a = o || 0, this.addA = function (t) {
            this.a += t, this.a > 1 && (this.a = 1)
        }, this.flipBetween = function (e, i, s, n, o, r, a, l) {
            this.setInterpolatedValue(e, i, t.calculateFlipPosition(s, n, o), t.calculateFlipPosition(s, n, r), t.calculateFlipPosition(s, n, a), t.calculateFlipPosition(s, n, l))
        }, this.lerpBetween = function (e, i, s, n, o, r, a, l) {
            this.setInterpolatedValue(e, i, t.calculateLerpPosition(s, n, o), t.calculateLerpPosition(s, n, r), t.calculateLerpPosition(s, n, a), t.calculateLerpPosition(s, n, l))
        }, this.setInterpolatedValue = function (t, e, i, s, n, o) {
            var r = this,
                a = function (i, s) {
                    t[i] < e[i] ? (r[i] = t[i] + (e[i] - t[i]) * s, r[i] > e[i] && (r[i] = e[i])) : (r[i] = t[i] - (t[i] - e[i]) * s, r[i] < e[i] && (r[i] = e[i]))
                };
            a("r", i), a("g", s), a("b", n), a("a", o), this.r = Math.round(this.r), this.g = Math.round(this.g), this.b = Math.round(this.b)
        }, this.getCanvasRGBA = function () {
            return "rgba(" + this.r + "," + this.g + "," + this.b + "," + this.a + ")"
        }, this.clone = function () {
            return new e(this.r, this.g, this.b, this.a)
        }
    };
    return e
}), define("PoE/PassiveSkillTree/PathHighlighter", ["./BFS/PathIterator", "./RGBA"], function (t, e) {
    return function (i, s, n) {
        this.init = function () {
            this.skillTree = i, this.drawObject = null, this.bfsPathIterator = new t(s, n), this.states = {
                BEGIN: 0,
                DEFAULT: 1,
                END: 2
            }, this.state = this.states.BEGIN, this.params = {}, this.params[this.states.DEFAULT] = {
                speed: 1e3,
                sFillC: new e(50, 50, 255, .4),
                eFillC: new e(50, 50, 255, .6),
                sStrokeC: new e(200, 200, 255, .4),
                eStrokeC: new e(255, 255, 255, .6)
            }, this.params[this.states.END] = {
                speed: 100,
                sFillC: null,
                sStrokeC: null,
                eFillC: new e,
                eStrokeC: new e(0, 0, 0, 0)
            }, this.params[this.states.BEGIN] = {
                speed: 50,
                sFillC: new e(255, 255, 255, 1),
                sStrokeC: new e(255, 255, 255, 1)
            }, this.params[this.states.BEGIN].eFillC = this.params[this.states.DEFAULT].sFillC, this.params[this.states.BEGIN].eStrokeC = this.params[this.states.DEFAULT].sStrokeC, this.events = {
                endFunc: function () {}
            }, this.start = (new Date).getTime(), this.setupDrawObject(), this.begin()
        }, this.setupDrawObject = function () {
            this.drawObject = new function (t) {
                this.init = function () {
                    this.highlighter = t, this.skillTree = t.skillTree, this.fillC = new e(50, 50, 255, .5), this.strokeC = new e(50, 50, 255, .6)
                };
                var i = this;
                this.begin = function () {
                    var t = this.highlighter.params[this.highlighter.states.BEGIN],
                        e = this;
                    setTimeout(function () {
                        e.beginDefault()
                    }, t.speed)
                }, this.beginDefault = function (t) {
                    this.highlighter.start = t || (new Date).getTime(), this.highlighter.state = this.highlighter.states.DEFAULT
                }, this.end = function () {
                    this.highlighter.state = this.highlighter.states.END, this.highlighter.params[this.highlighter.states.END].sFillC = this.fillC.clone(), this.highlighter.params[this.highlighter.states.END].sStrokeC = this.strokeC.clone(), this.highlighter.start = (new Date).getTime();
                    var t = this;
                    setTimeout(function () {
                        t.endImmediately()
                    }, this.highlighter.params[this.highlighter.states.END].speed)
                }, this.endImmediately = function () {
                    this.skillTree.midDrawObjects.remove(this.highlighter.drawObject) && this.highlighter.events.endFunc()
                }, this.draw = function () {
                    var t = i.skillTree.midCtx,
                        e = function (t, e, s) {
                            var n = e.position,
                                o = (new Date).getTime();
                            switch (i.highlighter.state) {
                                case i.highlighter.states.BEGIN:
                                    var r = i.highlighter.params[i.highlighter.states.BEGIN];
                                    i.fillC.lerpBetween(r.sFillC, r.eFillC, i.highlighter.start, o, r.speed, r.speed, r.speed, r.speed), i.strokeC.lerpBetween(r.sStrokeC, r.eStrokeC, i.highlighter.start, o, r.speed, r.speed, r.speed, r.speed);
                                    break;
                                case i.highlighter.states.DEFAULT:
                                    var r = i.highlighter.params[i.highlighter.states.DEFAULT];
                                    i.fillC.flipBetween(r.sFillC, r.eFillC, i.highlighter.start, o, r.speed, r.speed, r.speed, r.speed), i.strokeC.flipBetween(r.sStrokeC, r.eStrokeC, i.highlighter.start, o, r.speed, r.speed, r.speed, r.speed);
                                    break;
                                case i.highlighter.states.END:
                                    var r = i.highlighter.params[i.highlighter.states.END];
                                    i.strokeC.lerpBetween(r.sStrokeC, r.eStrokeC, i.highlighter.start, o, r.speed, r.speed, r.speed, r.speed)
                            }
                            if (i.skillTree.viewPort.bounds.contains(n)) {
                                i.skillTree.getNodeRadius(t);
                                if (n = i.skillTree.worldToScreen(n), i.skillTree.midCtx.beginPath(), i.skillTree.midCtx.lineWidth = 20 * i.skillTree.viewPort.zoom, i.skillTree.midCtx.strokeStyle = "rgba(255,255,255,1)", i.skillTree.midCtx.fillStyle = "rgba(255,255,255,1)", i.skillTree.midCtx.globalCompositeOperation = "destination-out", i.skillTree.midCtx.fill(), i.skillTree.midCtx.stroke(), i.skillTree.midCtx.strokeStyle = i.strokeC.getCanvasRGBA(), i.skillTree.midCtx.fillStyle = i.fillC.getCanvasRGBA(), i.skillTree.midCtx.globalCompositeOperation = "source-over", i.skillTree.midCtx.fill(), i.skillTree.midCtx.stroke(), null !== s) {
                                    var a = 50 * i.skillTree.viewPort.zoom,
                                        l = i.skillTree.midCtx.measureText(s).width;
                                    i.strokeC.addA(.3), i.skillTree.midCtx.fillStyle = i.strokeC.getCanvasRGBA(), i.skillTree.midCtx.font = a + "pt FontinBold", i.skillTree.midCtx.fillText(s, n.x - l / 2, n.y + a / 2)
                                }
                            } else i.skillTree.drawViewportIntersectionPoint(n, function (t) {
                                i.skillTree.topCtx.beginPath(), i.skillTree.topCtx.lineWidth = 20 * i.skillTree.viewPort.zoom, i.skillTree.topCtx.strokeStyle = i.strokeC.getCanvasRGBA(), i.skillTree.topCtx.fillStyle = i.fillC.getCanvasRGBA(), i.skillTree.topCtx.arc(t.x, t.y, 2, 0, 2 * Math.PI, !1), i.skillTree.topCtx.fill(), i.skillTree.topCtx.stroke(), i.skillTree.drawState.topDirty = !0
                            })
                        };
                    i.highlighter.bfsPathIterator.iterate(function (e, s) {
                        i.skillTree.drawPathBetweenNodes(e, s, function (e, s) {
                            var n = e.position,
                                o = s.position;
                            n = i.skillTree.worldToScreen(n), o = i.skillTree.worldToScreen(o), t.beginPath(), t.lineWidth = 20 * i.skillTree.viewPort.zoom, t.strokeStyle = i.strokeC.getCanvasRGBA(), t.moveTo(n.x, n.y), t.lineTo(o.x, o.y), t.stroke()
                        }, function (e, s, n, o) {
                            e = i.skillTree.worldToScreen(e), t.beginPath(), t.lineWidth = 20 * i.skillTree.viewPort.zoom, t.strokeStyle = i.strokeC.getCanvasRGBA(), t.arc(e.x, e.y, o * i.skillTree.viewPort.zoom, s - Math.PI / 2, n - Math.PI / 2, !1), t.stroke()
                        })
                    }), i.highlighter.bfsPathIterator.iterate(function (t, s, n) {
                        e(s, i.skillTree.getNodePositionInfo(s), null)
                    }), e(i.highlighter.bfsPathIterator.startNode, i.skillTree.getNodePositionInfo(i.highlighter.bfsPathIterator.startNode), i.highlighter.bfsPathIterator.getStartNodeDepth())
                }, this.init()
            }(this), this.skillTree.midDrawObjects.add(this.drawObject, 0)
        }, this.begin = function () {
            this.drawObject.begin()
        }, this.beginDefault = function (t) {
            this.drawObject.beginDefault(t)
        }, this.end = function () {
            this.drawObject.end()
        }, this.endImmediately = function () {
            this.drawObject.endImmediately()
        }, this.init()
    }
}), define("PoE/PassiveSkillTree/PathHighlighterGroup", ["./PathHighlighter"], function (t) {
    return function (e, i) {
        this.init = function () {
            this.skillTree = e, this.shortestPathsSets = i, this.pathHighlighters = []
        }, this.begin = function () {
            this.pathHighlighters = [];
            for (var e = 0, i = this.shortestPathsSets.length; i > e; ++e)(function (i, s) {
                i.pathHighlighters[e] = new t(i.skillTree, s.goalNodeData.node, s.nodeRelationshipData)
            })(this, this.shortestPathsSets[e])
        }, this.end = function () {
            for (var t = 0, e = this.shortestPathsSets.length; e > t; ++t) this.pathHighlighters[t].end()
        }, this.init()
    }
}), define("PoE/PassiveSkillTree/Popup", [], function () {
    var t = function (t, e, i, s, n, o, r) {
        this.id = t, this.destCanvas = e, this.destCtx = e.getContext("2d"), this.x = i, this.y = s, this.contentRenderFunc = r, this.resize(n, o)
    };
    return t.prototype.resize = function (t, e) {
        this.canvas = document.createElement("canvas"), this.ctx = this.canvas.getContext("2d"), this.canvas.width = t, this.canvas.height = e
    }, t.prototype.draw = function () {
        this.contentRenderFunc(this, !0, this.ctx), this.ctx.lineWidth = 4, this.ctx.fillStyle = "rgba(0,0,0,.80)", this.ctx.strokeStyle = "rgb(203,181,156)", this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height), this.ctx.strokeRect(0, 0, this.canvas.width, this.canvas.height), this.ctx.fill(), this.ctx.stroke(), this.contentRenderFunc(this, !1, this.ctx);
        var t = this.x,
            e = this.y,
            i = t + this.canvas.width,
            s = e + this.canvas.height;
        i > this.destCanvas.width && (t -= i - this.destCanvas.width), s > this.destCanvas.height && (e -= s - this.destCanvas.height), this.destCtx.drawImage(this.canvas, t, e)
    }, t
}), define("PoE/PassiveSkillTree/BFS/NodeData", [], function () {
    return function (t, e) {
        this.node = t, this.parents = [], this.depth = e
    }
}), define("PoE/PassiveSkillTree/ByteDecoder", [], function () {
    return function () {
        this.init = function () {
            this.dataString = "", this.position = 0
        }, this.bytesToInt16 = function (t) {
            return this.bytesToInt(t, 2)
        }, this.bytesToInt = function (t, e) {
            e = e || 4;
            for (var i = 0, s = 0; e > s; ++s) i += t[s], e - 1 > s && (i <<= 8);
            return i
        }, this.hasData = function () {
            return this.position < this.dataString.length
        }, this.getDataString = function () {
            return this.dataString
        }, this.setDataString = function (t) {
            this.dataString = t, this.position = 0
        }, this.readInt8 = function () {
            return this.readInt(1)
        }, this.readInt16 = function () {
            return this.readInt(2)
        }, this.readInt = function (t) {
            t = t || 4;
            var e = this.position + t;
            if (e > this.dataString.length) throw "Integer read exceeds bounds";
            for (var i = []; this.position < e; ++this.position) i.push(this.dataString.charAt(this.position).charCodeAt(0));
            return this.bytesToInt(i, t)
        }, this.init()
    }
}), define("PoE/PassiveSkillTree/ByteEncoder", [], function () {
    return function () {
        this.init = function () {
            this.dataString = "", this.position = 0
        }, this.int16ToBytes = function (t) {
            return this.intToBytes(t, 2)
        }, this.intToBytes = function (t, e) {
            e = e || 4, t = parseInt(t);
            var i = [],
                s = e;
            do i[--s] = 255 & t, t >>= 8; while (s > 0);
            return i
        }, this.appendInt8 = function (t) {
            this.appendInt(t, 1)
        }, this.appendInt16 = function (t) {
            this.appendInt(t, 2)
        }, this.appendInt = function (t, e) {
            e = e || 4;
            for (var i = this.intToBytes(t, e), s = 0; e > s; ++s) this.dataString += String.fromCharCode(i[s])
        }, this.getDataString = function () {
            return this.dataString
        }, this.init()
    }
}), define("PoE/PassiveSkillTree/NodeHighlighter/AnimationType", [], function () {
    return {
        Default: 0,
        In: 1,
        Out: 2
    }
}), define("PoE/PassiveSkillTree/NodeHighlighter/NodeHighlighter", ["jquery", "PoE/PassiveSkillTree/RGBA", "./AnimationType"], function (t, e, i) {
    var s = function (t, s) {
        this.acceptFunc = function (t) {
            return !0
        }, this.animations = {}, this.animations[i.In] = {
            speed: 50,
            fillColour: {
                start: new e(255, 255, 255, 1)
            },
            strokeColour: {
                start: new e(255, 255, 255, 1)
            }
        }, this.animations[i.Default] = {
            speed: 1e3,
            fillColour: {
                start: new e(255, 213, 47, .3),
                end: new e(255, 213, 47, .6)
            },
            strokeColour: {
                start: new e(255, 213, 47, .4),
                end: new e(255, 213, 47, .7)
            }
        }, this.animations[i.Out] = {
            speed: 100,
            fillColour: {
                start: null,
                end: new e
            },
            strokeColour: {
                start: null,
                end: new e(0, 0, 0, 0)
            }
        }, this.skillTree = t, this.init(s)
    };
    return s.prototype.draw = function () {
        var t = (new Date).getTime();
        switch (this.animationState) {
            case i.In:
                var e = this.animations[i.In];
                this.fillColour.lerpBetween(e.fillColour.start, e.fillColour.end, this.start, t, e.speed, e.speed, e.speed, e.speed), this.strokeColour.lerpBetween(e.strokeColour.start, e.strokeColour.end, this.start, t, e.speed, e.speed, e.speed, e.speed);
                break;
            case i.Default:
                var e = this.animations[i.Default];
                this.fillColour.flipBetween(e.fillColour.start, e.fillColour.end, this.start, t, e.speed, e.speed, e.speed, e.speed), this.strokeColour.flipBetween(e.strokeColour.start, e.strokeColour.end, this.start, t, e.speed, e.speed, e.speed, e.speed);
                break;
            case i.Out:
                var e = this.animations[i.Out];
                this.strokeColour.lerpBetween(e.strokeColour.start, e.strokeColour.end, this.start, t, e.speed, e.speed, e.speed, e.speed)
        }
        for (var s = 0, n = this.nodes.length; n > s; ++s) {
            var o = this.nodes[s],
                r = this.skillTree.getNodeRadius(o),
                a = this.skillTree.getNodePositionInfo(o).position;
            if (this.skillTree.viewPort.bounds.contains(a)) a = this.skillTree.worldToScreen(a), this.skillTree.midCtx.beginPath(), this.skillTree.midCtx.lineWidth = 2, this.skillTree.midCtx.strokeStyle = this.strokeColour.getCanvasRGBA(), this.skillTree.midCtx.fillStyle = this.fillColour.getCanvasRGBA(), this.skillTree.midCtx.arc(a.x, a.y, r * this.skillTree.viewPort.zoom, 0, 2 * Math.PI, !1), this.skillTree.midCtx.fill(), this.skillTree.midCtx.stroke();
            else {
                var l = this;
                this.skillTree.drawViewportIntersectionPoint(a, function (t) {
                    l.skillTree.topCtx.beginPath(), l.skillTree.topCtx.lineWidth = 2, l.skillTree.topCtx.strokeStyle = l.strokeColour.getCanvasRGBA(), l.skillTree.topCtx.fillStyle = l.fillColour.getCanvasRGBA(), l.skillTree.topCtx.arc(t.x, t.y, 2, 0, 2 * Math.PI, !1), l.skillTree.topCtx.fill(), l.skillTree.topCtx.stroke(), l.skillTree.drawState.topDirty = !0
                })
            }
        }
    }, s.prototype.begin = function () {
        var t = this;
        this.animations[i.In].fillColour.end = this.animations[i.Default].fillColour.start, setTimeout(function () {
            t.beginDefault()
        }, this.animations[i.In].speed)
    }, s.prototype.beginDefault = function (t) {
        this.start = t || (new Date).getTime(), this.animationState = i.Default
    }, s.prototype.end = function (e) {
        var s = t.Deferred(),
            n = this;
        return this.animationState = i.Out, this.animations[i.Out].fillColour.start = this.fillColour.clone(), this.animations[i.Out].strokeColour.start = this.strokeColour.clone(), this.start = (new Date).getTime(), setTimeout(function () {
            n.endImmediately(), s.resolve()
        }, this.animations[i.Out].speed), s.promise()
    }, s.prototype.endImmediately = function () {
        this.skillTree.midDrawObjects.remove(this.drawObject)
    }, s.prototype.copyStateFrom = function (t) {
        this.start = t.start, this.fillColour = t.fillColour.clone(), this.strokeColour = t.strokeColour.clone()
    }, s.prototype.init = function (t) {
        t && t.animations && this.configAnimation(t.animations), this.fillColour = new e, this.strokeColour = new e, this.start = (new Date).getTime(), this.nodes = t.nodes || [], this.animationState = i.In, this.animations[i.In].fillColour.end = this.animations[i.Default].fillColour.start, this.animations[i.In].strokeColour.end = this.animations[i.Default].strokeColour.start;
        var s = this;
        this.drawObject = {
            draw: function () {
                s.draw()
            }
        }, this.skillTree.midDrawObjects.add(this.drawObject, 10)
    }, s.prototype.setNodes = function (t) {
        this.nodes = t
    }, s.prototype.configAnimation = function (t) {
        if (t) {
            var e = function (t, e) {
                void 0 !== e.speed && (t.speed = e.speed), e.fillColour && (e.fillColour.start && (t.fillColour.start = e.fillColour.start), e.fillColour.end && (t.fillColour.end = e.fillColour.end)), e.strokeColour && (e.strokeColour.start && (t.strokeColour.start = e.strokeColour.start), e.strokeColour.end && (t.strokeColour.end = e.strokeColour.end))
            };
            t && "undefined" != typeof t[i.Default] && e(this.animations[i.Default], t[i.Default]), t && "undefined" != typeof t[i.In] && e(this.animations[i.In], t[i.In]), t && "undefined" != typeof t[i.Out] && e(this.animations[i.Out], t[i.Out])
        }
    }, s
}), define("PoE/PassiveSkillTree/NodeHighlighter/NodeHighlighterGroup", [], function () {
    var t = function (t) {
        this.init(t)
    };
    return t.prototype.foreachHighlighter = function (t) {
        for (var e = 0, i = this.highlighters.length; i > e; ++e) t(this.highlighters[e], e)
    }, t.prototype.begin = function () {
        this.foreachHighlighter(function (t) {
            t.begin()
        })
    }, t.prototype.beginDefault = function (t) {
        this.foreachHighlighter(function (e) {
            e.beginDefault(t)
        })
    }, t.prototype.end = function () {
        var t = [];
        return this.foreachHighlighter(function (e) {
            t.push(e.end())
        }), $.when.apply(null, t)
    }, t.prototype.endImmediately = function () {
        this.foreachHighlighter(function (t) {
            t.endImmediately()
        })
    }, t.prototype.copyStateFrom = function (t) {
        this.foreachHighlighter(function (e, i) {
            e.copyStateFrom(t.getHighlighter(i))
        })
    }, t.prototype.getHighlighter = function (t) {
        return this.highlighters[t]
    }, t.prototype.init = function (t) {
        t && (this.highlighters = t.highlighters || [])
    }, t
}), require.config({
    waitSeconds: 0,
    paths: {
        "backbone-raw": "//cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min",
        "backbone-relational": "//webcdn.pathofexile.com/js/lib/backbone/backbone-relational",
        "backbone-paginator": "//cdnjs.cloudflare.com/ajax/libs/backbone.paginator/0.8/backbone.paginator.min",
        text: "lib/backbone/plugins/text",
        Underscore: "//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore",
        jquery: "//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min",
        Handlebars: "//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min",
        "jquery.jscrollpane": "//cdnjs.cloudflare.com/ajax/libs/jScrollPane/2.0.22/script/jquery.jscrollpane.min",
        "jquery.mousewheel": "//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min",
        "jquery.base64": "external/jquery/jquery.base64.min",
        "jquery.ui": "//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min",
        "jquery.scrollbar": "//cdnjs.cloudflare.com/ajax/libs/jquery.scrollbar/0.2.8/jquery.scrollbar.min",
        nprogress: "//cdnjs.cloudflare.com/ajax/libs/nprogress/0.1.2/nprogress.min",
        "jQuery.plugin": "external/jquery/jquery.plugin.min"
    },
    shim: {
        "backbone-raw": {
            deps: ["Underscore", "jquery"],
            exports: "Backbone"
        },
        "backbone-relational": {
            deps: ["backbone-raw"]
        },
        "backbone-paginator": {
            deps: ["backbone-raw"]
        },
        Handlebars: {
            exports: "Handlebars"
        },
        Underscore: {
            exports: "_"
        },
        jquery: {
            exports: "$"
        },
        "jquery.jscrollpane": {
            deps: ["jquery"]
        },
        "jquery.mousewheel": {
            deps: ["jquery"]
        },
        "jquery.scrollbar": {
            deps: ["jquery"]
        },
        "forum/forum-index": ["jquery"],
        "PoE/Form": ["jquery"],
        "gg/grid/grid": ["jquery"],
        "gg/grid/extension/distinct": ["jquery"],
        nprogress: {
            deps: ["jquery"],
            exports: "NProgress"
        },
        "jQuery.plugin": {
            deps: ["jquery"]
        }
    }
}), require(["jquery", "jQuery.plugin", "plugins", "jquery.jscrollpane", "jquery.mousewheel", "jquery.base64", "/js/global.js", "jquery.scrollbar", "PoE/PassiveSkillTree/PassiveSkillTree"], function (t, e) {
    var i = function () {
        t("#siteCentered").css("min-height", t(window).height())
    };
    t(window).resize(function () {
        i()
    }), t(document).ready(function () {
        var e = t(".yt-rescale"),
            i = t("body"),
            s = .8;
        e.each(function () {
            var e = t(this).height() / t(this).width();
            t(this).data("aspectRatio", e).remove("height").remove("width")
        }), t(window).resize(function () {
            var n = i.width();
            e.each(function () {
                var e = t(this),
                    i = e.data("aspectRatio");
                e.width(n * s).height(n * i * s)
            })
        }).resize(), t("circle.node").hover(function (e) {
            e.preventDefault(), t(this).parent().find("[class=description]").attr("visibility", "visible")
        }, function (e) {
            e.preventDefault(), t(this).parent().find("[class=description]").attr("visibility", "hidden")
        })
    })
}), define("main", function () {});